<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="pl">
<head>
    <title>Śpiewnik</title>
    <link href="songs_html/CSS/template.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <script>
        function edit(file) {
            let d = document.createElement('form');
            d.setAttribute("action", "https://ghe.songbook.21wdw.org/users/me/changes:new")
            d.setAttribute("method", "post")
            let i = document.createElement("input")
            i.setAttribute("type", "hidden")
            i.setAttribute("name", "file")
            i.setAttribute("value", file)
            d.appendChild(i);

            document.body.appendChild(d);
            d.submit();
        }
        function filterSongs() {
            // 1. Get references to the input and the list
            const input = document.getElementById('songSearch');
            const filter = input.value.toUpperCase();
            const ul = document.getElementById('songs');
            const li = ul.getElementsByTagName('li');

            // 2. Loop through all list items
            for (let i = 0; i < li.length; i++) {
                // 3. Find the link (a) inside the list item
                const a = li[i].getElementsByTagName("a")[0];
                if (a) {
                    // 4. Get the text content of the link
                    const txtValue = a.textContent || a.innerText;

                    // 5. Check if the song title includes the filter text
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                        li[i].style.display = ""; // Show the list item
                    } else {
                        li[i].style.display = "none"; // Hide the list item
                    }
                }
            }
        }
    </script>
</head>
<body>
<div>
    <a href="https://ghe.songbook.21wdw.org/users/me/changes">[Inne rozpoczęte edycje]</a>
    <a href="https://ghe.songbook.21wdw.org/users/me/changes:new">[Dodaj piosenkę]</a>
    <a href="https://ghe.songbook.21wdw.org/intro">[O edytowaniu]</a>
    <a href="https://github.com/wdw21/songbook/tree/main/songs">[github]</a>
</div>
    <h2>Śpiewniki</h2>
    <ul id="songbooks">
    </ul>
    <p>Wersję na Kindla możesz wgrać używając: <a href="https://www.amazon.com/sendtokindle">https://www.amazon.com/sendtokindle</a></p>
    <!--INJECT HERE-->
    <h2>Piosenki</h2>
    <div class="search-container">
        <label for="songSearch" class="search-label">Szukaj piosenki:</label>
        <input type="text" id="songSearch" onkeyup="filterSongs()" placeholder="szukam... szukania mi trzeba" />
    </div>
    <ul id="songs">
    </ul>
</body>
</html>
